<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.caffeesys.cafesystem.claim.service.ClaimMapper">
	<resultMap type="com.caffeesys.cafesystem.claim.service.Claim" id="resultClaim">
		<result property="customerClaimCode" column="customer_claim_code"/> <!-- 클레임 관리코드(PK) -->
		<result property="claimCategoryCode" column="claim_category_code"/>
		<result property="employeeCode" column="employee_code"/>
		<result property="customerClaimTitle" column="customer_claim_title"/>
		<result property="customerClaimContents" column="customer_claim_contents"/>
		<result property="customerClaimDate" column="customer_claim_date"/>
		<result property="customerClaimFile" column="customer_claim_file"/>
		<result property="headEmployeeAdmin" column="head_employee_admin"/>
	</resultMap> 
	
	<delete id="deleteClaim" parameterType="com.caffeesys.cafesystem.claim.service.Claim">
		DELETE FROM customer_claim
		WHERE customer_claim_code = #{customerClaimCode}
	</delete>
	
	<update id="updateClaim" parameterType="com.caffeesys.cafesystem.claim.service.Claim">
		UPDATE customer_claim 
		SET claim_category_code = #{claimCategoryCode}
		, customer_claim_title = #{customerClaimTitle}
		, customerClaimContents = #{customerClaimContents}
		, customerClaimFile = #{customer_claim_file}
		WHERE customer_claim_code = #{customerClaimCode}
	</update>
	
	<select id="selectOneForDetail" parameterType="Integer" resultMap="resultClaim">
		SELECT customer_claim_code, claim_category_code, employee_code, customer_claim_title, customer_claim_contents, customer_claim_date, customer_claim_file, head_employee_admin
		FROM customer_claim
		WHERE customer_claim_code = #{customerClaimCode}
	</select>
	
	<select id="selectAllClaim" resultMap="resultClaim">
		SELECT customer_claim_code, claim_category_code, employee_code, customer_claim_title, customer_claim_contents, customer_claim_date, customer_claim_file, head_employee_admin FROM customer_claim
	</select>

	<insert id="insertClaim" parameterType="com.caffeesys.cafesystem.claim.service.Claim">
		INSERT INTO customer_claim 
		(customer_claim_code, claim_category_code, employee_code, customer_claim_title, customer_claim_contents, customer_claim_date, customer_claim_file, head_employee_admin)
		VALUES (#{customerClaimCode}, #{claimCategoryCode}, #{employeeCode}, #{customerClaimTitle}, #{customerClaimContents}, now(), #{customerClaimFile}, #{headEmployeeAdmin})
	</insert>
</mapper>